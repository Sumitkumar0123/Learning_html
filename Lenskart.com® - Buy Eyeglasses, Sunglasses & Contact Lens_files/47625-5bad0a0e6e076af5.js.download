"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[47625],{47625:function(e,t,n){n.d(t,{A3:function(){return S},BG:function(){return T},CI:function(){return p},Np:function(){return g},OK:function(){return N},Tk:function(){return C},Yr:function(){return A},_J:function(){return D},ee:function(){return y},iH:function(){return f},jB:function(){return i},jX:function(){return P},s0:function(){return b},sP:function(){return L},sW:function(){return I},yx:function(){return E},zu:function(){return R}});var i,o=n(59499),r=n(84599),u=n(67294),l=n(81354),a=n.n(l),d=n(72023),c=n(28809),s=n(7741),_=n(84627);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.PHONE_NUMBER="phoneNumber",e.ZIP_CODE="zipCode",e.NAME="name",e.ADDRESS_LINE_1="addressLine1",e.ADDRESS_LINE_2="addressLine2",e.LOCALITY="locality",e.ADDRESS_LABEL="addressLabel",e.FLAT_NUMBER="flatNumber",e.BUILDING_NAME="buildingName"}(i||(i={}));var E=function(e){return e.split(/\s+/)},O=function(e){return null===e||void 0===e||"string"===typeof e&&""===e.trim()||"object"===typeof e&&null!==e&&0===Object.keys(e).length},I=function e(t){return Object.keys(t).reduce((function(n,i){var o=t[i];if(!O(o))if(function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)}(o)){var r=e(o);O(r)||(n[i]=r)}else n[i]=o;return n}),{})},A=function(e){var t=e||{},n={event:t.eventName,cta_name:t.ctaName,page_name:t.pageName};(0,c.zz)(I(n))},f=function(e){var t=e||{},n=t.ctaName,i=t.product_category,o=t.mobile,r=t.hasPlacedOrder,u={event:"cta_click",cta_flow_and_page:t.cta_flow_and_page,cta_name:n,product_category:i,mobile:o,user_type:r?"old":"new"};(0,c.zz)(I(u))},L=function(e){var t=e||{},n=t.eventName,i=t.product_category,o=t.mobile,r=t.hasPlacedOrder,u={event:n,form_name:t.form_name,form_field_step:t.form_field_step,product_category:i,mobile:o,user_type:r?"old":"new"};(0,c.zz)(I(u))},D=function(e){var t,n,i=e.hasPlacedOrder,o=e.pageName,u=e.country,l=e.deviceType,a=e.currencyCode,_=e.userIsLogin,m=e.userEmail,v=e.userId,E=e.userNumber,O=e.cartItemsString,A=(0,r.extractUtmParams)(window.location.search),f=A.utm_source,L=void 0===f?null:f,D=A.utm_medium,N=void 0===D?null:D,S=A.utm_campaign,p=void 0===S?null:S,g=A.utm_term,T=void 0===g?null:g,C=A.utm_content,b=void 0===C?null:C;L?localStorage.setItem("utmSource",JSON.stringify({utm_source:L,utm_medium:N,utm_campaign:p,utm_term:T,utm_content:b})):localStorage.getItem("utmSource")||localStorage.setItem("utmSource",JSON.stringify({utm_source:L,utm_medium:N,utm_campaign:p,utm_term:T,utm_content:b}));var y=r.localStorageHelper.getItem("utmSource"),R=("+91","+91"),P=E?(0,d.sha256)(R+E):"",h={event:"page_view",country_code:u,currency_code:a||"",product_category:O,user_type:i?s.Fr.OLD:s.Fr.NEW,platform:l,lk_user_type:i?"lk-repeat":"lk-new",login_status:_?"loggedin":"guest",customer_id:_?v:"",mobile:E?btoa(null===E||void 0===E?void 0:E.toString()):"",mobile_new:P,email:m?btoa(m):"",page_url:null===(t=window)||void 0===t||null===(n=t.location)||void 0===n?void 0:n.href,page_name:o,web_utm_source:y.utm_source||"(direct)",web_utm_medium:y.utm_medium||"(none)",web_utm_campaign:y.utm_campaign||"(direct)",web_utm_term:y.utm_term||"",web_utm_content:y.utm_content||"",arch_type:"new-arch",dimension21:"new-arch"};(0,c.zz)(I(h))};function N(e){var t=(0,u.useState)(""),n=t[0],i=t[1];return(0,u.useEffect)((function(){var t;if(null!==e&&void 0!==e&&null!==(t=e.cartItems)&&void 0!==t&&t.length){var n,o,r,u=1===(null===e||void 0===e||null===(n=e.cartItems)||void 0===n?void 0:n.length)?null===e||void 0===e||null===(o=e.cartItems)||void 0===o?void 0:o.map((function(e){return e.itemLensCategory})):null===e||void 0===e||null===(r=e.cartItems)||void 0===r?void 0:r.map((function(e){return e.itemLensCategory})).filter((function(e){return e})).join(" | ");i(u)}else i("")}),[e]),n}var S,p=function(e){var t=e.toLowerCase();return t.includes("zip code")||t.includes("postal code")?"pincode":t.includes("house no")||t.includes("house")?"house-no":t.includes("road name")?"road-name":t.includes("phone number")?"phone-number":t.includes("city/district")?"city-district":t.includes("province")?"province":t.includes("name")?"name":t.includes("email")?"email":t.includes("city")?"city":t.includes("landmark")?"landmark":t.includes("area")||t.includes("street")?"area-street":e},g=["a-zA-Z0-9","@",".","-","/"," ","#",":",";","_","&",",","'",'"',"!","?","%","(",")","+","=","\\","|","[","]","{","}","<",">","*","~","`","^"],T=["a-zA-Z"," "],C=["0-9"];!function(e){e.Home="Home",e.Work="Work",e.FriendsAndFamily="Friends & Family",e.Other="Other"}(S||(S={}));var b=function(e){switch(null===e||void 0===e?void 0:e.toLowerCase()){case"in":return{MAX_ZIPCODE_LENGTH:6,HIDE_LOCATE_ME_BUTTON:!1,VALIDATE_CLARITY_ADDRESS_PIN_CODE:!0,FIRE_AUTO_COMPLETE_PIN_CODE:!0,IS_MULTIPLE_AVAILABLE_COUNTRIES:!1,LOAD_GOOGLE_SCRIPT_CLARITY_ADDRESS:!0,AUTOFILL_ADDRESS:!1};case"th":return{MAX_ZIPCODE_LENGTH:5,HIDE_LOCATE_ME_BUTTON:!0,VALIDATE_CLARITY_ADDRESS_PIN_CODE:!1,FIRE_AUTO_COMPLETE_PIN_CODE:!1,IS_MULTIPLE_AVAILABLE_COUNTRIES:!1,LOAD_GOOGLE_SCRIPT_CLARITY_ADDRESS:!1,AUTOFILL_ADDRESS:!1};case"sg":return{MAX_ZIPCODE_LENGTH:6,HIDE_LOCATE_ME_BUTTON:!0,VALIDATE_CLARITY_ADDRESS_PIN_CODE:!1,FIRE_AUTO_COMPLETE_PIN_CODE:!1,IS_MULTIPLE_AVAILABLE_COUNTRIES:!0,LOAD_GOOGLE_SCRIPT_CLARITY_ADDRESS:!1,AUTOFILL_ADDRESS:!0};case"ae":case"sa":return{MAX_ZIPCODE_LENGTH:6,HIDE_LOCATE_ME_BUTTON:!0,VALIDATE_CLARITY_ADDRESS_PIN_CODE:!1,FIRE_AUTO_COMPLETE_PIN_CODE:!1,IS_MULTIPLE_AVAILABLE_COUNTRIES:!0,LOAD_GOOGLE_SCRIPT_CLARITY_ADDRESS:!1,AUTOFILL_ADDRESS:!1};default:return{MAX_ZIPCODE_LENGTH:6,HIDE_LOCATE_ME_BUTTON:!1,VALIDATE_CLARITY_ADDRESS_PIN_CODE:!1,FIRE_AUTO_COMPLETE_PIN_CODE:!1,IS_MULTIPLE_AVAILABLE_COUNTRIES:!1,LOAD_GOOGLE_SCRIPT_CLARITY_ADDRESS:!1,AUTOFILL_ADDRESS:!1}}},y={firstName:{isVisible:!0,value:"",hint:"First Name*"},lastName:{isVisible:!0,value:"",hint:"Last Name*"},phoneNumber:{isVisible:!0,value:"",hint:"Phone number*"},email:{isVisible:!0,value:"",hint:"Email ID*"}},R=function(e){var t,n,i,o,r,u,l,a=e.address,d=e.hardCodedAddress,c=e.userInfo,s=e.secretKey,m=h(s);if((null===(t=Object.values(m||{}))||void 0===t?void 0:t.length)>0)i=v(v(v({},d),m),{},{action:"NOT_INSERT",city:(null===m||void 0===m?void 0:m.city)||(null===d||void 0===d?void 0:d.city),state:(null===m||void 0===m?void 0:m.state)||(null===d||void 0===d?void 0:d.state),postcode:(null===m||void 0===m?void 0:m.postcode)||(null===d||void 0===d?void 0:d.postcode),phone:(null===m||void 0===m?void 0:m.phone)||(null===c||void 0===c||null===(o=c.mobileNumber)||void 0===o?void 0:o.toString())||(0,_.ej)("guestUserNumber")||(null===d||void 0===d?void 0:d.phone),email:(null===m||void 0===m?void 0:m.email)||(null===c||void 0===c?void 0:c.email)||"".concat((0,_.ej)("guestUserNumber"),"@lenskartomni.com")||0,firstName:(null===m||void 0===m?void 0:m.firstName)||(null===c||void 0===c||null===(r=c.userDetails)||void 0===r?void 0:r.firstName)||(null===d||void 0===d?void 0:d.firstName),lastName:(null===m||void 0===m?void 0:m.lastName)||(null===c||void 0===c||null===(u=c.userDetails)||void 0===u?void 0:u.lastName)||(null===d||void 0===d?void 0:d.lastName),gender:(null===m||void 0===m?void 0:m.gender)||(null===c||void 0===c||null===(l=c.userDetails)||void 0===l?void 0:l.gender)||(null===d||void 0===d?void 0:d.gender)});else if((null===(n=Object.values(a||{}))||void 0===n?void 0:n.length)>0)i=v({action:"NOT_INSERT"},a);else{var E,O,I,A;i=v(v({},d),{},{action:"NOT_INSERT",phone:(null===c||void 0===c||null===(E=c.mobileNumber)||void 0===E?void 0:E.toString())||(0,_.ej)("guestUserNumber")||(null===d||void 0===d?void 0:d.phone),email:(null===c||void 0===c?void 0:c.email)||"".concat((0,_.ej)("guestUserNumber"),"@lenskartomni.com")||0,firstName:(null===c||void 0===c||null===(O=c.userDetails)||void 0===O?void 0:O.firstName)||(null===d||void 0===d?void 0:d.firstName),lastName:(null===c||void 0===c||null===(I=c.userDetails)||void 0===I?void 0:I.lastName)||(null===d||void 0===d?void 0:d.lastName),gender:(null===c||void 0===c||null===(A=c.userDetails)||void 0===A?void 0:A.gender)||(null===d||void 0===d?void 0:d.gender)})}return i},P=function(e){var t=e.secretKey,n=e.postcode,i=e.city,o=e.state,r=e.userAddress;if(t){var u,l,d,c=null===a()||void 0===a()||null===(u=a().AES)||void 0===u?void 0:u.encrypt(JSON.stringify(v(v(v(v(v({},null!==(l=h(t))&&void 0!==l?l:{}),n&&{postcode:n}),i&&{city:i}),o&&{state:o}),(null===(d=Object.keys(r||{}))||void 0===d?void 0:d.length)>0&&v({},r))),t).toString();sessionStorage.setItem("addressDataForDigitalCart",c)}},h=function(e){if(sessionStorage.getItem("addressDataForDigitalCart")&&e){var t,n,i=sessionStorage.getItem("addressDataForDigitalCart"),o=null===a()||void 0===a()||null===(t=a().AES)||void 0===t?void 0:t.decrypt(i,e);return JSON.parse(o.toString(null===a()||void 0===a()||null===(n=a().enc)||void 0===n?void 0:n.Utf8))}return{}}}}]);